# =============================================================================
# Configuration Stack IA Ultime - Version Compl√®te Optimis√©e
# =============================================================================
# Copiez ce fichier vers .env et personnalisez les valeurs
# cp .env.example .env

# =============================================================================
# PORTS EXTERNES
# =============================================================================

# LiteLLM Proxy (Gateway intelligent)
LITELLM_PORT=4000

# Langfuse (Analytics IA)
LANGFUSE_PORT=3002

# Open WebUI (Interface chat)
WEBUI_PORT=3000

# Perplexica (Recherche web IA)
PERPLEXICA_PORT=3001

# AI Gateway (API unifi√©e)
AI_GATEWAY_PORT=8000

# Tabby (Autocompl√©tion)
TABBY_PORT=8080

# Ollama (LLM local)
OLLAMA_PORT=11434

# =============================================================================
# LITELLM - Gateway Intelligent
# =============================================================================

# Master key pour LiteLLM (utilis√© par tous les services)
LITELLM_MASTER_KEY=sk-1234-change-this-in-production

# =============================================================================
# LANGFUSE - Observabilit√© IA
# =============================================================================

# Database password (PostgreSQL)
LANGFUSE_DB_PASSWORD=langfuse_secure_password_CHANGE_ME

# NextAuth secret (min 32 chars) - G√©n√©rer avec : openssl rand -base64 32
LANGFUSE_NEXTAUTH_SECRET=langfuse-nextauth-secret-min-32-chars-CHANGE_ME

# Salt (min 32 chars) - G√©n√©rer avec : openssl rand -base64 32
LANGFUSE_SALT=langfuse-salt-min-32-chars-CHANGE_ME

# Public & Secret keys pour Langfuse (g√©n√©r√©s automatiquement au premier d√©marrage si vides)
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=

# =============================================================================
# CLICKHOUSE - Obligatoire pour Langfuse v3+ (traces, analytics, gros volumes)
# =============================================================================

# URL HTTP pour les queries (utilis√© par Langfuse runtime)
CLICKHOUSE_URL=http://clickhouse:8123

# URL TCP pour les migrations Prisma/ClickHouse (obligatoire !)
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000

# Utilisateur ClickHouse (d√©faut safe, change en prod)
CLICKHOUSE_USER=default

# Mot de passe ClickHouse - CHANGEZ-LE IMP√âRATIVEMENT !
# G√©n√©rer : openssl rand -base64 32
CLICKHOUSE_PASSWORD=clickhouse_secure_password_CHANGE_ME_VERY_STRONG

# Nom de la base ClickHouse (d√©faut recommand√©)
CLICKHOUSE_DB=langfuse

# =============================================================================
# CL√âS API - Providers IA Externes (GRATUITS)
# =============================================================================

# Groq API (‚≠ê RECOMMAND√â - Gratuit, ultra-rapide)
# Inscription : https://console.groq.com/
# Limite : 14,400 requ√™tes/jour
GROQ_API_KEY=

# Hugging Face API (Gratuit)
# Inscription : https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=

# Together AI (Gratuit - $25 cr√©dits)
# Inscription : https://api.together.xyz/
TOGETHER_API_KEY=

# OpenRouter (Gratuit - mod√®les s√©lectionn√©s)
# Inscription : https://openrouter.ai/keys
OPENROUTER_API_KEY=

# =============================================================================
# OLLAMA - LLM Local
# =============================================================================

# Mod√®les √† t√©l√©charger automatiquement (s√©par√©s par des virgules)
# Recommandations :
#   - codellama : Pour code (4GB)
#   - llama3.2 : Chat g√©n√©ral (2GB)
#   - deepseek-coder : Code avanc√© (4GB)
#   - qwen2.5-coder : Code moderne
#   - nomic-embed-text : Embeddings RAG (300MB)
OLLAMA_MODELS=codellama,llama3.2,nomic-embed-text

# GPU : 0 = CPU uniquement, 999 = toutes les couches sur GPU si disponible
OLLAMA_NUM_GPU=0

# Taille du contexte (tokens) - augmente si GPU
OLLAMA_NUM_CTX=4096

# =============================================================================
# TABBY - Autocompl√©tion de Code
# =============================================================================

# Mod√®le Tabby
# Options :
#   - StarCoder-1B (rapide, 2GB RAM)
#   - StarCoder-3B (bon compromis, 4GB RAM)
#   - DeepSeek-Coder-6.7B (excellent, 8GB RAM)
TABBY_MODEL=StarCoder-1B

# Device : cpu ou cuda (si GPU)
TABBY_DEVICE=cpu

# =============================================================================
# OPEN WEBUI - Interface Chat
# =============================================================================

# Secret key (min 32 chars)
WEBUI_SECRET_KEY=changeme-webui-secret-key-min-32-characters

# Authentification activ√©e
WEBUI_AUTH=true

# =============================================================================
# GOOSE - Agent IA Autonome
# =============================================================================

# Mod√®le par d√©faut pour Goose (via LiteLLM)
GOOSE_MODEL=groq/llama-3.3-70b-versatile

# =============================================================================
# VOLUMES - Stockage des Donn√©es
# =============================================================================

# R√©pertoire de base pour tous les volumes
# D√©faut : ./volumes (donn√©es dans le projet)
# Production : chemin absolu comme /opt/ai-stack/data
VOLUMES_BASE=./volumes

# =============================================================================
# RECOMMANDATIONS DE CONFIGURATION
# =============================================================================
#
# CONFIGURATION MINIMALE (8 GB RAM) :
# OLLAMA_MODELS=llama3.2,nomic-embed-text
# TABBY_MODEL=StarCoder-1B
# OLLAMA_NUM_CTX=2048
#
# CONFIGURATION STANDARD (16 GB RAM) :
# OLLAMA_MODELS=codellama,llama3.2,nomic-embed-text
# TABBY_MODEL=StarCoder-3B
# OLLAMA_NUM_CTX=4096
# GROQ_API_KEY=<votre_cl√©>
#
# CONFIGURATION HAUTE PERFORMANCE (32 GB RAM + GPU) :
# OLLAMA_MODELS=deepseek-coder,qwen2.5-coder,nomic-embed-text
# TABBY_MODEL=DeepSeek-Coder-6.7B
# TABBY_DEVICE=cuda
# OLLAMA_NUM_GPU=999
# OLLAMA_NUM_CTX=8192
# GROQ_API_KEY=<votre_cl√©>
# TOGETHER_API_KEY=<votre_cl√©>
#
# =============================================================================
# SERVICES DISPONIBLES
# =============================================================================
#
# ‚ö° LiteLLM Proxy      : http://localhost:4000
#    - UI Admin         : http://localhost:4000/ui
#    - API              : http://localhost:4000/v1/*
#
# üìä Langfuse           : http://localhost:3002
#    - Analytics IA
#    - Tracking requ√™tes
#    - Debug conversations
#
# üé® Open WebUI         : http://localhost:3000
#    - Interface chat moderne
#    - RAG activ√©
#    - Multi-mod√®les
#
# üîç Perplexica         : http://localhost:3001
#    - Recherche web avec IA
#    - Type Perplexity
#
# üåê AI Gateway         : http://localhost:8000
#    - API unifi√©e
#    - Multi-providers
#
# ü§ñ Tabby              : http://localhost:8080
#    - Autocompl√©tion code
#
# üß† Ollama             : http://localhost:11434
#    - LLM local
#
# ü¶Ü Goose              : docker compose exec goose goose session
#    - Agent autonome
#    - CLI interactive
#
# =============================================================================
# OBTENIR LES CL√âS API GRATUITES
# =============================================================================
#
# 1. GROQ (‚≠ê PRIORITAIRE - Ultra-rapide, vraiment gratuit) :
#    - Aller sur : https://console.groq.com/
#    - S'inscrire avec email
#    - Cr√©er une API Key
#    - Copier dans GROQ_API_KEY
#
# 2. HUGGING FACE (Gratuit, beaucoup de mod√®les) :
#    - Aller sur : https://huggingface.co/settings/tokens
#    - Cr√©er un token "Read"
#    - Copier dans HUGGINGFACE_API_KEY
#
# 3. TOGETHER AI ($25 gratuits au d√©part) :
#    - Aller sur : https://api.together.xyz/
#    - S'inscrire
#    - Cr√©er une cl√© API
#    - Copier dans TOGETHER_API_KEY
#
# 4. OPENROUTER (Mod√®les gratuits disponibles) :
#    - Aller sur : https://openrouter.ai/keys
#    - Cr√©er une cl√©
#    - Copier dans OPENROUTER_API_KEY
#
# =============================================================================
# S√âCURIT√â PRODUCTION
# =============================================================================
#
# ‚ö†Ô∏è  IMPORTANT - Changez TOUS les secrets par d√©faut :
#    - LITELLM_MASTER_KEY
#    - LANGFUSE_DB_PASSWORD
#    - LANGFUSE_NEXTAUTH_SECRET
#    - LANGFUSE_SALT
#    - WEBUI_SECRET_KEY
#    - CLICKHOUSE_PASSWORD
#
# üîí G√©n√©rer des secrets forts :
#    openssl rand -base64 32
#
# üõ°Ô∏è  En production :
#    - Utilisez HTTPS (reverse proxy Nginx/Traefik/Caddy)
#    - Limitez l'acc√®s r√©seau (localhost ou VPN uniquement)
#    - Activez l'authentification partout
#    - Sauvegardez r√©guli√®rement les volumes
#
# =============================================================================